                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.1.6 #12439 (MINGW32)
                                      4 ;--------------------------------------------------------
                                      5 	.module main
                                      6 	.optsdcc -mgbz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _set_sprite_data
                                     13 	.globl _set_bkg_tiles
                                     14 	.globl _set_bkg_data
                                     15 	.globl _delay
                                     16 	.globl _TileLabel
                                     17 	.globl _map
                                     18 	.globl _car_light
                                     19 ;--------------------------------------------------------
                                     20 ; special function registers
                                     21 ;--------------------------------------------------------
                                     22 ;--------------------------------------------------------
                                     23 ; ram data
                                     24 ;--------------------------------------------------------
                                     25 	.area _DATA
                                     26 ;--------------------------------------------------------
                                     27 ; ram data
                                     28 ;--------------------------------------------------------
                                     29 	.area _INITIALIZED
                                     30 ;--------------------------------------------------------
                                     31 ; absolute external ram data
                                     32 ;--------------------------------------------------------
                                     33 	.area _DABS (ABS)
                                     34 ;--------------------------------------------------------
                                     35 ; global & static initialisations
                                     36 ;--------------------------------------------------------
                                     37 	.area _HOME
                                     38 	.area _GSINIT
                                     39 	.area _GSFINAL
                                     40 	.area _GSINIT
                                     41 ;--------------------------------------------------------
                                     42 ; Home
                                     43 ;--------------------------------------------------------
                                     44 	.area _HOME
                                     45 	.area _HOME
                                     46 ;--------------------------------------------------------
                                     47 ; code
                                     48 ;--------------------------------------------------------
                                     49 	.area _CODE
                                     50 ;main.c:7: void main(){
                                     51 ;	---------------------------------
                                     52 ; Function main
                                     53 ; ---------------------------------
      000000                         54 _main::
                                     55 ;main.c:8: UINT8 currentspriteindex = 0;
      000000 0E 00                   56 	ld	c, #0x00
                                     57 ;main.c:11: set_bkg_data(0, 10, map);
      000002 11rB2r00                58 	ld	de, #_map
      000005 D5                      59 	push	de
      000006 21 00 0A                60 	ld	hl, #0xa00
      000009 E5                      61 	push	hl
      00000A CDr00r00                62 	call	_set_bkg_data
      00000D E8 04                   63 	add	sp, #4
                                     64 ;main.c:12: set_bkg_tiles(0, 0, 40, 18, TileLabel);
      00000F 11r1Br01                65 	ld	de, #_TileLabel
      000012 D5                      66 	push	de
      000013 21 28 12                67 	ld	hl, #0x1228
      000016 E5                      68 	push	hl
      000017 AF                      69 	xor	a, a
      000018 0F                      70 	rrca
      000019 F5                      71 	push	af
      00001A CDr00r00                72 	call	_set_bkg_tiles
      00001D E8 06                   73 	add	sp, #6
                                     74 ;main.c:13: SHOW_BKG;
      00001F F0r00                   75 	ldh	a, (_LCDC_REG + 0)
      000021 F6 01                   76 	or	a, #0x01
      000023 E0r00                   77 	ldh	(_LCDC_REG + 0), a
                                     78 ;main.c:14: DISPLAY_ON;
      000025 F0r00                   79 	ldh	a, (_LCDC_REG + 0)
      000027 F6 80                   80 	or	a, #0x80
      000029 E0r00                   81 	ldh	(_LCDC_REG + 0), a
                                     82 ;main.c:16: set_sprite_data(0, 2, car_light);
      00002B 11r72r00                83 	ld	de, #_car_light
      00002E D5                      84 	push	de
      00002F 21 00 02                85 	ld	hl, #0x200
      000032 E5                      86 	push	hl
      000033 CDr00r00                87 	call	_set_sprite_data
      000036 E8 04                   88 	add	sp, #4
                                     89 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1174: shadow_OAM[nb].tile=tile;
      000038 21r02r00                90 	ld	hl, #(_shadow_OAM + 2)
      00003B 36 00                   91 	ld	(hl), #0x00
                                     92 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1247: OAM_item_t * itm = &shadow_OAM[nb];
      00003D 21r00r00                93 	ld	hl, #_shadow_OAM
                                     94 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1248: itm->y=y, itm->x=x;
      000040 3E 4E                   95 	ld	a, #0x4e
      000042 22                      96 	ld	(hl+), a
      000043 36 58                   97 	ld	(hl), #0x58
                                     98 ;main.c:19: SHOW_SPRITES;
      000045 F0r00                   99 	ldh	a, (_LCDC_REG + 0)
      000047 F6 02                  100 	or	a, #0x02
      000049 E0r00                  101 	ldh	(_LCDC_REG + 0), a
                                    102 ;main.c:21: while(1){
      00004B                        103 00105$:
                                    104 ;main.c:22: if(currentspriteindex==0){
      00004B 79                     105 	ld	a, c
      00004C B7                     106 	or	a, a
                                    107 ;main.c:23: currentspriteindex = 1;
                                    108 ;main.c:26: currentspriteindex = 0;
      00004D 0E 01                  109 	ld	c, #0x01
      00004F 28 02                  110 	jr	Z, 00103$
      000051 0E 00                  111 	ld	c, #0x00
      000053                        112 00103$:
                                    113 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1174: shadow_OAM[nb].tile=tile;
      000053 21r02r00               114 	ld	hl, #(_shadow_OAM + 2)
      000056 71                     115 	ld	(hl), c
                                    116 ;main.c:29: delay(1000);
      000057 C5                     117 	push	bc
      000058 11 E8 03               118 	ld	de, #0x03e8
      00005B D5                     119 	push	de
      00005C CDr00r00               120 	call	_delay
      00005F E1                     121 	pop	hl
      000060 C1                     122 	pop	bc
                                    123 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1263: OAM_item_t * itm = &shadow_OAM[nb];
      000061 11r00r00               124 	ld	de, #_shadow_OAM+0
                                    125 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1264: itm->y+=y, itm->x+=x;
      000064 1A                     126 	ld	a, (de)
      000065 12                     127 	ld	(de), a
      000066 13                     128 	inc	de
      000067 1A                     129 	ld	a, (de)
      000068 C6 0A                  130 	add	a, #0x0a
      00006A 12                     131 	ld	(de), a
                                    132 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:860: SCX_REG+=x, SCY_REG+=y;
      00006B F0r00                  133 	ldh	a, (_SCX_REG + 0)
      00006D 3C                     134 	inc	a
      00006E E0r00                  135 	ldh	(_SCX_REG + 0), a
                                    136 ;main.c:31: scroll_bkg(1,0);
                                    137 ;main.c:33: }
      000070 18 D9                  138 	jr	00105$
      000072                        139 _car_light:
      000072 0F                     140 	.db #0x0f	; 15
      000073 0F                     141 	.db #0x0f	; 15
      000074 08                     142 	.db #0x08	; 8
      000075 0F                     143 	.db #0x0f	; 15
      000076 13                     144 	.db #0x13	; 19
      000077 1C                     145 	.db #0x1c	; 28
      000078 1B                     146 	.db #0x1b	; 27
      000079 14                     147 	.db #0x14	; 20
      00007A 1F                     148 	.db #0x1f	; 31
      00007B 10                     149 	.db #0x10	; 16
      00007C 1D                     150 	.db #0x1d	; 29
      00007D 12                     151 	.db #0x12	; 18
      00007E 14                     152 	.db #0x14	; 20
      00007F 1B                     153 	.db #0x1b	; 27
      000080 17                     154 	.db #0x17	; 23
      000081 1F                     155 	.db #0x1f	; 31
      000082 0F                     156 	.db #0x0f	; 15
      000083 0F                     157 	.db #0x0f	; 15
      000084 0B                     158 	.db #0x0b	; 11
      000085 0F                     159 	.db #0x0f	; 15
      000086 0F                     160 	.db #0x0f	; 15
      000087 08                     161 	.db #0x08	; 8
      000088 17                     162 	.db #0x17	; 23
      000089 18                     163 	.db #0x18	; 24
      00008A 17                     164 	.db #0x17	; 23
      00008B 18                     165 	.db #0x18	; 24
      00008C 1F                     166 	.db #0x1f	; 31
      00008D 17                     167 	.db #0x17	; 23
      00008E 08                     168 	.db #0x08	; 8
      00008F 0F                     169 	.db #0x0f	; 15
      000090 0F                     170 	.db #0x0f	; 15
      000091 0F                     171 	.db #0x0f	; 15
      000092 F0                     172 	.db #0xf0	; 240
      000093 F0                     173 	.db #0xf0	; 240
      000094 10                     174 	.db #0x10	; 16
      000095 F0                     175 	.db #0xf0	; 240
      000096 C8                     176 	.db #0xc8	; 200
      000097 38                     177 	.db #0x38	; 56	'8'
      000098 D8                     178 	.db #0xd8	; 216
      000099 28                     179 	.db #0x28	; 40
      00009A F8                     180 	.db #0xf8	; 248
      00009B 08                     181 	.db #0x08	; 8
      00009C B8                     182 	.db #0xb8	; 184
      00009D 48                     183 	.db #0x48	; 72	'H'
      00009E 28                     184 	.db #0x28	; 40
      00009F D8                     185 	.db #0xd8	; 216
      0000A0 E8                     186 	.db #0xe8	; 232
      0000A1 F8                     187 	.db #0xf8	; 248
      0000A2 F0                     188 	.db #0xf0	; 240
      0000A3 F0                     189 	.db #0xf0	; 240
      0000A4 D0                     190 	.db #0xd0	; 208
      0000A5 F0                     191 	.db #0xf0	; 240
      0000A6 F0                     192 	.db #0xf0	; 240
      0000A7 10                     193 	.db #0x10	; 16
      0000A8 E8                     194 	.db #0xe8	; 232
      0000A9 18                     195 	.db #0x18	; 24
      0000AA E8                     196 	.db #0xe8	; 232
      0000AB 18                     197 	.db #0x18	; 24
      0000AC F8                     198 	.db #0xf8	; 248
      0000AD E8                     199 	.db #0xe8	; 232
      0000AE 10                     200 	.db #0x10	; 16
      0000AF F0                     201 	.db #0xf0	; 240
      0000B0 F0                     202 	.db #0xf0	; 240
      0000B1 F0                     203 	.db #0xf0	; 240
      0000B2                        204 _map:
      0000B2 FF                     205 	.db #0xff	; 255
      0000B3 FA                     206 	.db #0xfa	; 250
      0000B4 75                     207 	.db #0x75	; 117	'u'
      0000B5 55                     208 	.db #0x55	; 85	'U'
      0000B6 55                     209 	.db #0x55	; 85	'U'
      0000B7 55                     210 	.db #0x55	; 85	'U'
      0000B8 DC                     211 	.db #0xdc	; 220
      0000B9 44                     212 	.db #0x44	; 68	'D'
      0000BA 44                     213 	.db #0x44	; 68	'D'
      0000BB 44                     214 	.db #0x44	; 68	'D'
      0000BC 43                     215 	.db #0x43	; 67	'C'
      0000BD 6F                     216 	.db #0x6f	; 111	'o'
      0000BE FF                     217 	.db #0xff	; 255
      0000BF FF                     218 	.db #0xff	; 255
      0000C0 A8                     219 	.db #0xa8	; 168
      0000C1 11                     220 	.db #0x11	; 17
      0000C2 11                     221 	.db #0x11	; 17
      0000C3 11                     222 	.db #0x11	; 17
      0000C4 11                     223 	.db #0x11	; 17
      0000C5 98                     224 	.db #0x98	; 152
      0000C6 00                     225 	.db #0x00	; 0
      0000C7 00                     226 	.db #0x00	; 0
      0000C8 00                     227 	.db #0x00	; 0
      0000C9 00                     228 	.db #0x00	; 0
      0000CA 46                     229 	.db #0x46	; 70	'F'
      0000CB FF                     230 	.db #0xff	; 255
      0000CC FA                     231 	.db #0xfa	; 250
      0000CD 81                     232 	.db #0x81	; 129
      0000CE 11                     233 	.db #0x11	; 17
      0000CF 11                     234 	.db #0x11	; 17
      0000D0 11                     235 	.db #0x11	; 17
      0000D1 11                     236 	.db #0x11	; 17
      0000D2 98                     237 	.db #0x98	; 152
      0000D3 00                     238 	.db #0x00	; 0
      0000D4 00                     239 	.db #0x00	; 0
      0000D5 00                     240 	.db #0x00	; 0
      0000D6 00                     241 	.db #0x00	; 0
      0000D7 04                     242 	.db #0x04	; 4
      0000D8 6F                     243 	.db #0x6f	; 111	'o'
      0000D9 F9                     244 	.db #0xf9	; 249
      0000DA 11                     245 	.db #0x11	; 17
      0000DB 11                     246 	.db #0x11	; 17
      0000DC 11                     247 	.db #0x11	; 17
      0000DD 11                     248 	.db #0x11	; 17
      0000DE 11                     249 	.db #0x11	; 17
      0000DF 98                     250 	.db #0x98	; 152
      0000E0 00                     251 	.db #0x00	; 0
      0000E1 00                     252 	.db #0x00	; 0
      0000E2 00                     253 	.db #0x00	; 0
      0000E3 00                     254 	.db #0x00	; 0
      0000E4 00                     255 	.db #0x00	; 0
      0000E5 5F                     256 	.db #0x5f	; 95
      0000E6 FE                     257 	.db #0xfe	; 254
      0000E7 11                     258 	.db #0x11	; 17
      0000E8 11                     259 	.db #0x11	; 17
      0000E9 11                     260 	.db #0x11	; 17
      0000EA 11                     261 	.db #0x11	; 17
      0000EB 11                     262 	.db #0x11	; 17
      0000EC 98                     263 	.db #0x98	; 152
      0000ED 00                     264 	.db #0x00	; 0
      0000EE 00                     265 	.db #0x00	; 0
      0000EF 00                     266 	.db #0x00	; 0
      0000F0 00                     267 	.db #0x00	; 0
      0000F1 00                     268 	.db #0x00	; 0
      0000F2 6F                     269 	.db #0x6f	; 111	'o'
      0000F3 FE                     270 	.db #0xfe	; 254
      0000F4 11                     271 	.db #0x11	; 17
      0000F5 11                     272 	.db #0x11	; 17
      0000F6 11                     273 	.db #0x11	; 17
      0000F7 11                     274 	.db #0x11	; 17
      0000F8 11                     275 	.db #0x11	; 17
      0000F9 98                     276 	.db #0x98	; 152
      0000FA 00                     277 	.db #0x00	; 0
      0000FB 00                     278 	.db #0x00	; 0
      0000FC 00                     279 	.db #0x00	; 0
      0000FD 00                     280 	.db #0x00	; 0
      0000FE 00                     281 	.db #0x00	; 0
      0000FF 6F                     282 	.db #0x6f	; 111	'o'
      000100 40                     283 	.db #0x40	; 64
      000101 11                     284 	.db #0x11	; 17
      000102 11                     285 	.db #0x11	; 17
      000103 11                     286 	.db #0x11	; 17
      000104 11                     287 	.db #0x11	; 17
      000105 11                     288 	.db #0x11	; 17
      000106 98                     289 	.db #0x98	; 152
      000107 00                     290 	.db #0x00	; 0
      000108 00                     291 	.db #0x00	; 0
      000109 00                     292 	.db #0x00	; 0
      00010A 00                     293 	.db #0x00	; 0
      00010B 00                     294 	.db #0x00	; 0
      00010C 6A                     295 	.db #0x6a	; 106	'j'
      00010D 31                     296 	.db #0x31	; 49	'1'
      00010E 11                     297 	.db #0x11	; 17
      00010F 11                     298 	.db #0x11	; 17
      000110 11                     299 	.db #0x11	; 17
      000111 11                     300 	.db #0x11	; 17
      000112 11                     301 	.db #0x11	; 17
      000113 98                     302 	.db #0x98	; 152
      000114 00                     303 	.db #0x00	; 0
      000115 00                     304 	.db #0x00	; 0
      000116 00                     305 	.db #0x00	; 0
      000117 00                     306 	.db #0x00	; 0
      000118 00                     307 	.db #0x00	; 0
      000119 79                     308 	.db #0x79	; 121	'y'
      00011A 31                     309 	.db #0x31	; 49	'1'
      00011B                        310 _TileLabel:
      00011B AA                     311 	.db #0xaa	; 170
      00011C 00                     312 	.db #0x00	; 0
      00011D 55                     313 	.db #0x55	; 85	'U'
      00011E 00                     314 	.db #0x00	; 0
      00011F AA                     315 	.db #0xaa	; 170
      000120 00                     316 	.db #0x00	; 0
      000121 55                     317 	.db #0x55	; 85	'U'
      000122 00                     318 	.db #0x00	; 0
      000123 AA                     319 	.db #0xaa	; 170
      000124 00                     320 	.db #0x00	; 0
      000125 55                     321 	.db #0x55	; 85	'U'
      000126 00                     322 	.db #0x00	; 0
      000127 AA                     323 	.db #0xaa	; 170
      000128 00                     324 	.db #0x00	; 0
      000129 55                     325 	.db #0x55	; 85	'U'
      00012A 00                     326 	.db #0x00	; 0
                                    327 	.area _CODE
                                    328 	.area _INITIALIZER
                                    329 	.area _CABS (ABS)
