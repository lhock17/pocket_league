                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.1.6 #12439 (MINGW32)
                                      4 ;--------------------------------------------------------
                                      5 	.module main
                                      6 	.optsdcc -mgbz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _set_sprite_data
                                     13 	.globl _set_bkg_tiles
                                     14 	.globl _set_bkg_data
                                     15 	.globl _delay
                                     16 	.globl _TileLabel
                                     17 	.globl _map
                                     18 	.globl _car_light
                                     19 ;--------------------------------------------------------
                                     20 ; special function registers
                                     21 ;--------------------------------------------------------
                                     22 ;--------------------------------------------------------
                                     23 ; ram data
                                     24 ;--------------------------------------------------------
                                     25 	.area _DATA
                                     26 ;--------------------------------------------------------
                                     27 ; ram data
                                     28 ;--------------------------------------------------------
                                     29 	.area _INITIALIZED
                                     30 ;--------------------------------------------------------
                                     31 ; absolute external ram data
                                     32 ;--------------------------------------------------------
                                     33 	.area _DABS (ABS)
                                     34 ;--------------------------------------------------------
                                     35 ; global & static initialisations
                                     36 ;--------------------------------------------------------
                                     37 	.area _HOME
                                     38 	.area _GSINIT
                                     39 	.area _GSFINAL
                                     40 	.area _GSINIT
                                     41 ;--------------------------------------------------------
                                     42 ; Home
                                     43 ;--------------------------------------------------------
                                     44 	.area _HOME
                                     45 	.area _HOME
                                     46 ;--------------------------------------------------------
                                     47 ; code
                                     48 ;--------------------------------------------------------
                                     49 	.area _CODE
                                     50 ;main.c:7: void main(){
                                     51 ;	---------------------------------
                                     52 ; Function main
                                     53 ; ---------------------------------
      000000                         54 _main::
                                     55 ;main.c:8: UINT8 currentspriteindex = 0;
      000000 0E 00                   56 	ld	c, #0x00
                                     57 ;main.c:11: set_bkg_data(0, 10, map);
      000002 11rADr00                58 	ld	de, #_map
      000005 D5                      59 	push	de
      000006 21 00 0A                60 	ld	hl, #0xa00
      000009 E5                      61 	push	hl
      00000A CDr00r00                62 	call	_set_bkg_data
      00000D E8 04                   63 	add	sp, #4
                                     64 ;main.c:12: set_bkg_tiles(0, 0, 40, 18, TileLabel);
      00000F 11r16r01                65 	ld	de, #_TileLabel
      000012 D5                      66 	push	de
      000013 21 28 12                67 	ld	hl, #0x1228
      000016 E5                      68 	push	hl
      000017 AF                      69 	xor	a, a
      000018 0F                      70 	rrca
      000019 F5                      71 	push	af
      00001A CDr00r00                72 	call	_set_bkg_tiles
      00001D E8 06                   73 	add	sp, #6
                                     74 ;main.c:13: SHOW_BKG;
      00001F F0r00                   75 	ldh	a, (_LCDC_REG + 0)
      000021 F6 01                   76 	or	a, #0x01
      000023 E0r00                   77 	ldh	(_LCDC_REG + 0), a
                                     78 ;main.c:14: DISPLAY_ON;
      000025 F0r00                   79 	ldh	a, (_LCDC_REG + 0)
      000027 F6 80                   80 	or	a, #0x80
      000029 E0r00                   81 	ldh	(_LCDC_REG + 0), a
                                     82 ;main.c:16: set_sprite_data(0, 2, car_light);
      00002B 11r6Dr00                83 	ld	de, #_car_light
      00002E D5                      84 	push	de
      00002F 21 00 02                85 	ld	hl, #0x200
      000032 E5                      86 	push	hl
      000033 CDr00r00                87 	call	_set_sprite_data
      000036 E8 04                   88 	add	sp, #4
                                     89 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1174: shadow_OAM[nb].tile=tile;
      000038 21r02r00                90 	ld	hl, #(_shadow_OAM + 2)
      00003B 36 00                   91 	ld	(hl), #0x00
                                     92 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1247: OAM_item_t * itm = &shadow_OAM[nb];
      00003D 21r00r00                93 	ld	hl, #_shadow_OAM
                                     94 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1248: itm->y=y, itm->x=x;
      000040 3E 4E                   95 	ld	a, #0x4e
      000042 22                      96 	ld	(hl+), a
      000043 36 58                   97 	ld	(hl), #0x58
                                     98 ;main.c:19: SHOW_SPRITES;
      000045 F0r00                   99 	ldh	a, (_LCDC_REG + 0)
      000047 F6 02                  100 	or	a, #0x02
      000049 E0r00                  101 	ldh	(_LCDC_REG + 0), a
                                    102 ;main.c:21: while(1){
      00004B                        103 00105$:
                                    104 ;main.c:22: if(currentspriteindex==0){
      00004B 79                     105 	ld	a, c
      00004C B7                     106 	or	a, a
                                    107 ;main.c:23: currentspriteindex = 1;
                                    108 ;main.c:26: currentspriteindex = 0;
      00004D 0E 01                  109 	ld	c, #0x01
      00004F 28 02                  110 	jr	Z, 00103$
      000051 0E 00                  111 	ld	c, #0x00
      000053                        112 00103$:
                                    113 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1174: shadow_OAM[nb].tile=tile;
      000053 21r02r00               114 	ld	hl, #(_shadow_OAM + 2)
      000056 71                     115 	ld	(hl), c
                                    116 ;main.c:29: delay(1000);
      000057 C5                     117 	push	bc
      000058 11 E8 03               118 	ld	de, #0x03e8
      00005B D5                     119 	push	de
      00005C CDr00r00               120 	call	_delay
      00005F E1                     121 	pop	hl
      000060 C1                     122 	pop	bc
                                    123 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1263: OAM_item_t * itm = &shadow_OAM[nb];
      000061 11r00r00               124 	ld	de, #_shadow_OAM+0
                                    125 ;C:/Users/campb/Documents/gbdk/include/gb/gb.h:1264: itm->y+=y, itm->x+=x;
      000064 1A                     126 	ld	a, (de)
      000065 12                     127 	ld	(de), a
      000066 13                     128 	inc	de
      000067 1A                     129 	ld	a, (de)
      000068 C6 0A                  130 	add	a, #0x0a
      00006A 12                     131 	ld	(de), a
                                    132 ;main.c:30: scroll_sprite(0,10,0);
                                    133 ;main.c:33: }
      00006B 18 DE                  134 	jr	00105$
      00006D                        135 _car_light:
      00006D 0F                     136 	.db #0x0f	; 15
      00006E 0F                     137 	.db #0x0f	; 15
      00006F 08                     138 	.db #0x08	; 8
      000070 0F                     139 	.db #0x0f	; 15
      000071 13                     140 	.db #0x13	; 19
      000072 1C                     141 	.db #0x1c	; 28
      000073 1B                     142 	.db #0x1b	; 27
      000074 14                     143 	.db #0x14	; 20
      000075 1F                     144 	.db #0x1f	; 31
      000076 10                     145 	.db #0x10	; 16
      000077 1D                     146 	.db #0x1d	; 29
      000078 12                     147 	.db #0x12	; 18
      000079 14                     148 	.db #0x14	; 20
      00007A 1B                     149 	.db #0x1b	; 27
      00007B 17                     150 	.db #0x17	; 23
      00007C 1F                     151 	.db #0x1f	; 31
      00007D 0F                     152 	.db #0x0f	; 15
      00007E 0F                     153 	.db #0x0f	; 15
      00007F 0B                     154 	.db #0x0b	; 11
      000080 0F                     155 	.db #0x0f	; 15
      000081 0F                     156 	.db #0x0f	; 15
      000082 08                     157 	.db #0x08	; 8
      000083 17                     158 	.db #0x17	; 23
      000084 18                     159 	.db #0x18	; 24
      000085 17                     160 	.db #0x17	; 23
      000086 18                     161 	.db #0x18	; 24
      000087 1F                     162 	.db #0x1f	; 31
      000088 17                     163 	.db #0x17	; 23
      000089 08                     164 	.db #0x08	; 8
      00008A 0F                     165 	.db #0x0f	; 15
      00008B 0F                     166 	.db #0x0f	; 15
      00008C 0F                     167 	.db #0x0f	; 15
      00008D F0                     168 	.db #0xf0	; 240
      00008E F0                     169 	.db #0xf0	; 240
      00008F 10                     170 	.db #0x10	; 16
      000090 F0                     171 	.db #0xf0	; 240
      000091 C8                     172 	.db #0xc8	; 200
      000092 38                     173 	.db #0x38	; 56	'8'
      000093 D8                     174 	.db #0xd8	; 216
      000094 28                     175 	.db #0x28	; 40
      000095 F8                     176 	.db #0xf8	; 248
      000096 08                     177 	.db #0x08	; 8
      000097 B8                     178 	.db #0xb8	; 184
      000098 48                     179 	.db #0x48	; 72	'H'
      000099 28                     180 	.db #0x28	; 40
      00009A D8                     181 	.db #0xd8	; 216
      00009B E8                     182 	.db #0xe8	; 232
      00009C F8                     183 	.db #0xf8	; 248
      00009D F0                     184 	.db #0xf0	; 240
      00009E F0                     185 	.db #0xf0	; 240
      00009F D0                     186 	.db #0xd0	; 208
      0000A0 F0                     187 	.db #0xf0	; 240
      0000A1 F0                     188 	.db #0xf0	; 240
      0000A2 10                     189 	.db #0x10	; 16
      0000A3 E8                     190 	.db #0xe8	; 232
      0000A4 18                     191 	.db #0x18	; 24
      0000A5 E8                     192 	.db #0xe8	; 232
      0000A6 18                     193 	.db #0x18	; 24
      0000A7 F8                     194 	.db #0xf8	; 248
      0000A8 E8                     195 	.db #0xe8	; 232
      0000A9 10                     196 	.db #0x10	; 16
      0000AA F0                     197 	.db #0xf0	; 240
      0000AB F0                     198 	.db #0xf0	; 240
      0000AC F0                     199 	.db #0xf0	; 240
      0000AD                        200 _map:
      0000AD FF                     201 	.db #0xff	; 255
      0000AE FA                     202 	.db #0xfa	; 250
      0000AF 75                     203 	.db #0x75	; 117	'u'
      0000B0 55                     204 	.db #0x55	; 85	'U'
      0000B1 55                     205 	.db #0x55	; 85	'U'
      0000B2 55                     206 	.db #0x55	; 85	'U'
      0000B3 DC                     207 	.db #0xdc	; 220
      0000B4 44                     208 	.db #0x44	; 68	'D'
      0000B5 44                     209 	.db #0x44	; 68	'D'
      0000B6 44                     210 	.db #0x44	; 68	'D'
      0000B7 43                     211 	.db #0x43	; 67	'C'
      0000B8 6F                     212 	.db #0x6f	; 111	'o'
      0000B9 FF                     213 	.db #0xff	; 255
      0000BA FF                     214 	.db #0xff	; 255
      0000BB A8                     215 	.db #0xa8	; 168
      0000BC 11                     216 	.db #0x11	; 17
      0000BD 11                     217 	.db #0x11	; 17
      0000BE 11                     218 	.db #0x11	; 17
      0000BF 11                     219 	.db #0x11	; 17
      0000C0 98                     220 	.db #0x98	; 152
      0000C1 00                     221 	.db #0x00	; 0
      0000C2 00                     222 	.db #0x00	; 0
      0000C3 00                     223 	.db #0x00	; 0
      0000C4 00                     224 	.db #0x00	; 0
      0000C5 46                     225 	.db #0x46	; 70	'F'
      0000C6 FF                     226 	.db #0xff	; 255
      0000C7 FA                     227 	.db #0xfa	; 250
      0000C8 81                     228 	.db #0x81	; 129
      0000C9 11                     229 	.db #0x11	; 17
      0000CA 11                     230 	.db #0x11	; 17
      0000CB 11                     231 	.db #0x11	; 17
      0000CC 11                     232 	.db #0x11	; 17
      0000CD 98                     233 	.db #0x98	; 152
      0000CE 00                     234 	.db #0x00	; 0
      0000CF 00                     235 	.db #0x00	; 0
      0000D0 00                     236 	.db #0x00	; 0
      0000D1 00                     237 	.db #0x00	; 0
      0000D2 04                     238 	.db #0x04	; 4
      0000D3 6F                     239 	.db #0x6f	; 111	'o'
      0000D4 F9                     240 	.db #0xf9	; 249
      0000D5 11                     241 	.db #0x11	; 17
      0000D6 11                     242 	.db #0x11	; 17
      0000D7 11                     243 	.db #0x11	; 17
      0000D8 11                     244 	.db #0x11	; 17
      0000D9 11                     245 	.db #0x11	; 17
      0000DA 98                     246 	.db #0x98	; 152
      0000DB 00                     247 	.db #0x00	; 0
      0000DC 00                     248 	.db #0x00	; 0
      0000DD 00                     249 	.db #0x00	; 0
      0000DE 00                     250 	.db #0x00	; 0
      0000DF 00                     251 	.db #0x00	; 0
      0000E0 5F                     252 	.db #0x5f	; 95
      0000E1 FE                     253 	.db #0xfe	; 254
      0000E2 11                     254 	.db #0x11	; 17
      0000E3 11                     255 	.db #0x11	; 17
      0000E4 11                     256 	.db #0x11	; 17
      0000E5 11                     257 	.db #0x11	; 17
      0000E6 11                     258 	.db #0x11	; 17
      0000E7 98                     259 	.db #0x98	; 152
      0000E8 00                     260 	.db #0x00	; 0
      0000E9 00                     261 	.db #0x00	; 0
      0000EA 00                     262 	.db #0x00	; 0
      0000EB 00                     263 	.db #0x00	; 0
      0000EC 00                     264 	.db #0x00	; 0
      0000ED 6F                     265 	.db #0x6f	; 111	'o'
      0000EE FE                     266 	.db #0xfe	; 254
      0000EF 11                     267 	.db #0x11	; 17
      0000F0 11                     268 	.db #0x11	; 17
      0000F1 11                     269 	.db #0x11	; 17
      0000F2 11                     270 	.db #0x11	; 17
      0000F3 11                     271 	.db #0x11	; 17
      0000F4 98                     272 	.db #0x98	; 152
      0000F5 00                     273 	.db #0x00	; 0
      0000F6 00                     274 	.db #0x00	; 0
      0000F7 00                     275 	.db #0x00	; 0
      0000F8 00                     276 	.db #0x00	; 0
      0000F9 00                     277 	.db #0x00	; 0
      0000FA 6F                     278 	.db #0x6f	; 111	'o'
      0000FB 40                     279 	.db #0x40	; 64
      0000FC 11                     280 	.db #0x11	; 17
      0000FD 11                     281 	.db #0x11	; 17
      0000FE 11                     282 	.db #0x11	; 17
      0000FF 11                     283 	.db #0x11	; 17
      000100 11                     284 	.db #0x11	; 17
      000101 98                     285 	.db #0x98	; 152
      000102 00                     286 	.db #0x00	; 0
      000103 00                     287 	.db #0x00	; 0
      000104 00                     288 	.db #0x00	; 0
      000105 00                     289 	.db #0x00	; 0
      000106 00                     290 	.db #0x00	; 0
      000107 6A                     291 	.db #0x6a	; 106	'j'
      000108 31                     292 	.db #0x31	; 49	'1'
      000109 11                     293 	.db #0x11	; 17
      00010A 11                     294 	.db #0x11	; 17
      00010B 11                     295 	.db #0x11	; 17
      00010C 11                     296 	.db #0x11	; 17
      00010D 11                     297 	.db #0x11	; 17
      00010E 98                     298 	.db #0x98	; 152
      00010F 00                     299 	.db #0x00	; 0
      000110 00                     300 	.db #0x00	; 0
      000111 00                     301 	.db #0x00	; 0
      000112 00                     302 	.db #0x00	; 0
      000113 00                     303 	.db #0x00	; 0
      000114 79                     304 	.db #0x79	; 121	'y'
      000115 31                     305 	.db #0x31	; 49	'1'
      000116                        306 _TileLabel:
      000116 AA                     307 	.db #0xaa	; 170
      000117 00                     308 	.db #0x00	; 0
      000118 55                     309 	.db #0x55	; 85	'U'
      000119 00                     310 	.db #0x00	; 0
      00011A AA                     311 	.db #0xaa	; 170
      00011B 00                     312 	.db #0x00	; 0
      00011C 55                     313 	.db #0x55	; 85	'U'
      00011D 00                     314 	.db #0x00	; 0
      00011E AA                     315 	.db #0xaa	; 170
      00011F 00                     316 	.db #0x00	; 0
      000120 55                     317 	.db #0x55	; 85	'U'
      000121 00                     318 	.db #0x00	; 0
      000122 AA                     319 	.db #0xaa	; 170
      000123 00                     320 	.db #0x00	; 0
      000124 55                     321 	.db #0x55	; 85	'U'
      000125 00                     322 	.db #0x00	; 0
                                    323 	.area _CODE
                                    324 	.area _INITIALIZER
                                    325 	.area _CABS (ABS)
